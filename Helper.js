const libConst = Bridge.getScopeOf("Const.js").bridge();

function bridge() {
    return {
        // ì…ë ¥ëœ ê°’ì´ ë²ˆí˜¸ì¼ ê²½ìš° ì¹´í…Œê³ ë¦¬ ëª…ìœ¼ë¡œ ë³€í™˜í•´ì£¼ëŠ” í•¨ìˆ˜
        getCategoryByNum: function(room, isGroupChat, num) {
            if (room.trim() === libConst.ErrorLogRoom.trim()) {
                if (num == "1") return "ë°ì´í„°";
                if (num == "2") return "ìœ ì €ì œì–´";
                if (num == "3") return "ì •ë³´";
                if (num == "4") return "ë„ì›€ë§";
            } else if (isGroupChat) {
                if (num == "1") return "ê°€ì´ë“œ";
                if (num == "2") return "ë­í‚¹";
                if (num == "3") return "ì •ë³´";
                if (num == "4") return "ë„ì›€ë§";
            } else {
                if (num == "1") return "ë‚´ì •ë³´";
                if (num == "2") return "ì¸ë²¤í† ë¦¬";
                if (num == "3") return "ë¡œê·¸ì•„ì›ƒ";
                if (num == "4") return "ë„ì›€ë§";
            }
            return null;
        },

        getMenu: function(room, isGroupChat, isLoggedIn, category, userSession, DB) {
            var res = "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
            var p = libConst.Prefix;

            // [1] ê´€ë¦¬ì ë°©
            if (room.trim() === libConst.ErrorLogRoom.trim()) {
                switch(category) {
                    case "ë°ì´í„°":
                        res += "ğŸ“Š [ê´€ë¦¬ì > ë°ì´í„°ì¡°íšŒ]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nâ€¢ ë“±ë¡ ìœ ì €: " + DB.getUserList().length + "ëª…\n\nğŸ”™ " + p + "ë©”ë‰´";
                        break;
                    case "ìœ ì €ì œì–´":
                        res += "âš™ï¸ [ê´€ë¦¬ì > ìœ ì €ì œì–´]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nâ€¢ " + p + "ìœ ì €ì´ˆê¸°í™” [ë‹‰]\nâ€¢ " + p + "ìœ ì €ì‚­ì œ [ë‹‰]\n\nğŸ”™ " + p + "ë©”ë‰´";
                        break;
                    case "ë„ì›€ë§":
                        res += "ğŸ›¡ï¸ [ê´€ë¦¬ì > ë„ì›€ë§]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nâ€¢ ë©”ë‰´ ë’¤ì— ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ ì´ë™ ê°€ëŠ¥í•©ë‹ˆë‹¤.\nâ€¢ ì˜ˆ: " + p + "ë©”ë‰´ 1\nâ€¢ ëª¨ë“  ìœ ì € ë°ì´í„°ëŠ” ì‹¤ì‹œê°„ ë°±ì—…ë©ë‹ˆë‹¤.\n\nğŸ”™ " + p + "ë©”ë‰´";
                        break;
                    default:
                        res += "ğŸ›¡ï¸ ê´€ë¦¬ì ë©”ì¸ ë©”ë‰´\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n1. ë°ì´í„° ì¡°íšŒ\n2. ìœ ì € ì œì–´\n3. ì •ë³´ (íŒ¨ì¹˜ë…¸íŠ¸)\n4. ë„ì›€ë§";
                }
            } 
            // [2] ê³µìš© ë°©
            else if (isGroupChat) {
                switch(category) {
                    case "ê°€ì´ë“œ":
                        res += "ğŸ“– [ì‹¤í—˜ì‹¤ > ê°€ì´ë“œ]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nâ€¢ ê°œì¸í†¡ì—ì„œ ê°€ì… í›„ ì´ìš©í•´ì£¼ì„¸ìš”.\n\nğŸ”™ " + p + "ë©”ë‰´";
                        break;
                    case "ë„ì›€ë§":
                        res += "â“ [ì‹¤í—˜ì‹¤ > ë„ì›€ë§]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nâ€¢ ê³µìš©ë°©ì€ ì•Œë¦¼ ë° ì „ì  í™•ì¸ìš©ì…ë‹ˆë‹¤.\nâ€¢ ëª…ë ¹ì–´ëŠ” " + p + "ë©”ë‰´ [ë²ˆí˜¸] í˜•íƒœì…ë‹ˆë‹¤.\n\nğŸ”™ " + p + "ë©”ë‰´";
                        break;
                    default:
                        res += "ğŸ§ª ë©”ì¸ ë©”ë‰´\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n1. ê°€ì´ë“œ\n2. ë­í‚¹ (ë¯¸êµ¬í˜„)\n3. ì •ë³´\n4. ë„ì›€ë§";
                }
            }
            // [3] ê°œì¸í†¡ (ê°€ì… ì‹œ ë‹‰ë„¤ì„ ë°˜ì˜)
            else {
                if (!isLoggedIn) {
                    res += "ğŸ”“ ë¹„íšŒì› ë©”ë‰´\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n1. ê°€ì…\n2. ë¡œê·¸ì¸\n3. ë„ì›€ë§";
                } else {
                    let userName = userSession.info.name;
                    switch(category) {
                        case "ë‚´ì •ë³´":
                            res += "ğŸ‘¤ [" + userName + " > ì •ë³´]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nâ€¢ ë ˆë²¨: " + userSession.status.level + "\nâ€¢ ì†Œì§€ê¸ˆ: " + userSession.status.money + "\n\nğŸ”™ " + p + "ë©”ë‰´";
                            break;
                        case "ë„ì›€ë§":
                            res += "â“ [" + userName + " > ë„ì›€ë§]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nâ€¢ ë²ˆí˜¸ ì…ë ¥: " + p + "ë©”ë‰´ 1, " + p + "ë©”ë‰´ 2...\nâ€¢ ì •ë³´ í™•ì¸: " + p + "ë‚´ì •ë³´\nâ€¢ ì¢…ë£Œ: " + p + "ë¡œê·¸ì•„ì›ƒ\n\nğŸ”™ " + p + "ë©”ë‰´";
                            break;
                        default:
                            res += "ğŸ  [" + userName + "] ë©”ì¸ ë©”ë‰´\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n1. ë‚´ì •ë³´\n2. ì¸ë²¤í† ë¦¬ (ë¯¸êµ¬í˜„)\n3. ë¡œê·¸ì•„ì›ƒ\n4. ë„ì›€ë§";
                    }
                }
            }
            res += "\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”";
            return res;
        }
    };
}
