const libConst = Bridge.getScopeOf("Const.js").bridge();

function bridge() {
    return {
        getMenu: function(room, isGroupChat, isLoggedIn, category, userSession, DB) {
            var res = "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
            var p = libConst.Prefix;

            // [1] ê´€ë¦¬ì ë°© ë©”ë‰´ (ê²Œì„ë´‡)
            if (room.trim() === libConst.ErrorLogRoom.trim()) {
                switch(category) {
                    case "ìœ ì €ì œì–´":
                        res += "âš™ï¸ [ê´€ë¦¬ì > ìœ ì €ì œì–´]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                        res += "â€¢ " + p + "ìœ ì €ì´ˆê¸°í™” [ë‹‰ë„¤ì„]\nâ€¢ " + p + "ìœ ì €ì‚­ì œ [ë‹‰ë„¤ì„]\nâ€¢ " + p + "ìœ ì €ë¡¤ë°± [ë‹‰ë„¤ì„]\n\n";
                        res += "ğŸ”™ ëŒì•„ê°€ê¸°: " + p + "ë©”ë‰´";
                        break;
                    case "ë°ì´í„°":
                        res += "ğŸ“Š [ê´€ë¦¬ì > ë°ì´í„°ì¡°íšŒ]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                        let userList = DB.getUserList();
                        res += "â€¢ ë“±ë¡ ìœ ì €: " + userList.length + "ëª…\n";
                        res += "â€¢ ëª©ë¡: " + (userList.length > 0 ? userList.join(", ") : "ì—†ìŒ") + "\n\n";
                        res += "ğŸ”™ ëŒì•„ê°€ê¸°: " + p + "ë©”ë‰´";
                        break;
                    default:
                        res += "ğŸ›¡ï¸ ê´€ë¦¬ì ì œì–´ ì„¼í„°\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                        res += "1. " + p + "ë©”ë‰´ ë°ì´í„° (ìœ ì €ëª©ë¡)\n";
                        res += "2. " + p + "ë©”ë‰´ ìœ ì €ì œì–´ (ìˆ˜ì •/ì‚­ì œ)\n";
                        res += "3. " + p + "ì •ë³´ (ì—…ë°ì´íŠ¸ ì•Œë¦¼)";
                }
            } 
            // [2] ê³µìš© ë°© ë©”ë‰´ (LOLì‹¤í—˜ì‹¤)
            else if (isGroupChat && room.trim() === libConst.MainRoomName.trim()) {
                switch(category) {
                    case "ê°€ì´ë“œ":
                        res += "ğŸ“– [ì‹¤í—˜ì‹¤ > ê°€ì´ë“œ]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                        res += "â€¢ ê°œì¸í†¡ì—ì„œ '" + p + "ê°€ì… [ë‹‰ë„¤ì„] [PW]'ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\n";
                        res += "â€¢ ì…ë ¥í•˜ì‹  ì •ë³´ê°€ ê²Œì„ ë‹‰ë„¤ì„ì´ ë©ë‹ˆë‹¤.\n\n";
                        res += "ğŸ”™ ëŒì•„ê°€ê¸°: " + p + "ë©”ë‰´";
                        break;
                    case "ë­í‚¹":
                        res += "ğŸ† [ì‹¤í—˜ì‹¤ > ì‹¤ì‹œê°„ë­í‚¹]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                        res += "â€¢ (ë¯¸êµ¬í˜„) ì „ì  ê¸°ë°˜ ë­í‚¹ ì‹œìŠ¤í…œ\n\n";
                        res += "ğŸ”™ ëŒì•„ê°€ê¸°: " + p + "ë©”ë‰´";
                        break;
                    default:
                        res += "ğŸ§ª LOLì‹¤í—˜ì‹¤ ë©”ì¸ë©”ë‰´\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                        res += "1. " + p + "ë©”ë‰´ ê°€ì´ë“œ\n";
                        res += "2. " + p + "ë©”ë‰´ ë­í‚¹ (ë¯¸êµ¬í˜„)\n";
                        res += "3. " + p + "ì •ë³´ (íŒ¨ì¹˜ë…¸íŠ¸)";
                }
            }
            // [3] ê°œì¸í†¡ ë©”ë‰´ (ìœ ì € ê¸°ëŠ¥)
            else if (!isGroupChat) {
                if (!isLoggedIn) {
                    res += "ğŸ”“ ë¹„íšŒì› ë©”ë‰´\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                    res += "ğŸ“¢ ì•„ì´ë””ëŠ” ì‚¬ìš©í•  'ë‹‰ë„¤ì„'ìœ¼ë¡œ ì ì–´ì£¼ì„¸ìš”!\n\n";
                    res += "1. " + p + "ê°€ì… [ë‹‰ë„¤ì„] [PW]\n";
                    res += "2. " + p + "ë¡œê·¸ì¸ [ë‹‰ë„¤ì„] [PW]";
                } else {
                    switch(category) {
                        case "ë‚´ì •ë³´":
                            res += "ğŸ‘¤ [ë©”ë‰´ > ë‚´ì •ë³´]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                            res += "â€¢ ë‹‰ë„¤ì„: " + userSession.info.name + "\n";
                            res += "â€¢ ë ˆë²¨: " + userSession.status.level + "\n";
                            res += "â€¢ ì „ì : " + userSession.status.win + "ìŠ¹ " + userSession.status.loss + "íŒ¨\n\n";
                            res += "ğŸ”™ ëŒì•„ê°€ê¸°: " + p + "ë©”ë‰´";
                            break;
                        case "ì¸ë²¤í† ë¦¬":
                            res += "ğŸ’ [ë©”ë‰´ > ì¸ë²¤í† ë¦¬]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                            res += "â€¢ (ë¯¸êµ¬í˜„) ë³´ìœ  ì•„ì´í…œ ëª©ë¡\n\n";
                            res += "ğŸ”™ ëŒì•„ê°€ê¸°: " + p + "ë©”ë‰´";
                            break;
                        default:
                            res += "ğŸ  ìœ ì € ë©”ì¸ ë©”ë‰´\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                            res += "1. " + p + "ë©”ë‰´ ë‚´ì •ë³´\n";
                            res += "2. " + p + "ë©”ë‰´ ì¸ë²¤í† ë¦¬ (ë¯¸êµ¬í˜„)\n";
                            res += "3. " + p + "ë¡œê·¸ì•„ì›ƒ";
                    }
                }
            }

            res += "\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”";
            return res;
        }
    };
}
