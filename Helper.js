const libConst = Bridge.getScopeOf("Const.js").bridge();

function bridge() {
    return {
        getMenu: function(room, isGroupChat, isLoggedIn, category, userSession, DB) {
            var res = "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
            var p = libConst.Prefix;

            // [1] ê´€ë¦¬ì ë°© (ê²Œì„ë´‡)
            if (room.trim() === libConst.ErrorLogRoom.trim()) {
                switch(category) {
                    case "ë°ì´í„°":
                        let userList = DB.getUserList();
                        res += "ğŸ“Š [ê´€ë¦¬ì > ë°ì´í„°ì¡°íšŒ]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                        res += "â€¢ ë“±ë¡ ìœ ì €: " + userList.length + "ëª…\n" + "â€¢ ëª©ë¡: " + (userList.length > 0 ? userList.join(", ") : "ì—†ìŒ") + "\n\n";
                        res += "ğŸ”™ ëŒì•„ê°€ê¸°: " + p + "ë©”ë‰´";
                        break;
                    case "ìœ ì €ì œì–´":
                        res += "âš™ï¸ [ê´€ë¦¬ì > ìœ ì €ì œì–´]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                        res += "â€¢ " + p + "ìœ ì €ì´ˆê¸°í™” [ë‹‰ë„¤ì„]\nâ€¢ " + p + "ìœ ì €ì‚­ì œ [ë‹‰ë„¤ì„]\nâ€¢ " + p + "ìœ ì €ë¡¤ë°± [ë‹‰ë„¤ì„]\n\n";
                        res += "ğŸ”™ ëŒì•„ê°€ê¸°: " + p + "ë©”ë‰´";
                        break;
                    case "ë„ì›€ë§":
                        res += "ğŸ›¡ï¸ [ê´€ë¦¬ì > ë„ì›€ë§]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                        res += "â€¢ " + p + "ìœ ì €ì¡°íšŒ : ì „ì²´ ìœ ì € ëª©ë¡\n";
                        res += "â€¢ " + p + "ìœ ì €ì‚­ì œ [ID] : ê³„ì • ì‚­ì œ\n";
                        res += "â€¢ " + p + "ì •ë³´ : íŒ¨ì¹˜ë…¸íŠ¸ ì•Œë¦¼ ì „ì†¡\n\n";
                        res += "ğŸ”™ ëŒì•„ê°€ê¸°: " + p + "ë©”ë‰´";
                        break;
                    default:
                        res += "ğŸ›¡ï¸ ê´€ë¦¬ì ì œì–´ ì„¼í„°\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                        res += "1. ë°ì´í„° ì¡°íšŒ\n";
                        res += "2. ìœ ì € ì œì–´\n";
                        res += "3. ì •ë³´ (íŒ¨ì¹˜ë…¸íŠ¸)\n";
                        // ì¶”ê°€ ì¹´í…Œê³ ë¦¬ê°€ ìƒê²¨ë„ ë„ì›€ë§ì€ ë§ˆì§€ë§‰ì— ìœ„ì¹˜
                        res += "4. ë„ì›€ë§";
                }
            } 
            // [2] ê³µìš© ë°© (LOLì‹¤í—˜ì‹¤)
            else if (isGroupChat && room.trim() === libConst.MainRoomName.trim()) {
                switch(category) {
                    case "ê°€ì´ë“œ":
                        res += "ğŸ“– [ì‹¤í—˜ì‹¤ > ê°€ì´ë“œ]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                        res += "â€¢ ê°œì¸í†¡ì—ì„œ '" + p + "ê°€ì… [ë‹‰ë„¤ì„] [PW]'\n";
                        res += "â€¢ ì•„ì´ë””ê°€ ê³§ ê²Œì„ ë‹‰ë„¤ì„ì´ ë©ë‹ˆë‹¤.\n\n";
                        res += "ğŸ”™ ëŒì•„ê°€ê¸°: " + p + "ë©”ë‰´";
                        break;
                    case "ë„ì›€ë§":
                        res += "â“ [ì‹¤í—˜ì‹¤ > ë„ì›€ë§]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                        res += "â€¢ ë­í‚¹ ë° íŒ¨ì¹˜ ì•Œë¦¼ìš© ë°©ì…ë‹ˆë‹¤.\n";
                        res += "â€¢ í”Œë ˆì´ëŠ” ë´‡ ê°œì¸í†¡ì—ì„œ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n";
                        res += "ğŸ”™ ëŒì•„ê°€ê¸°: " + p + "ë©”ë‰´";
                        break;
                    default:
                        res += "ğŸ§ª LOLì‹¤í—˜ì‹¤ ë©”ì¸ë©”ë‰´\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                        res += "1. ê°€ì´ë“œ\n";
                        res += "2. ë­í‚¹ (ë¯¸êµ¬í˜„)\n";
                        res += "3. ì •ë³´\n";
                        res += "4. ë„ì›€ë§";
                }
            }
            // [3] ê°œì¸í†¡ (ìœ ì € ì „ìš©)
            else if (!isGroupChat) {
                if (!isLoggedIn) {
                    res += "ğŸ”“ ë¹„íšŒì› ë©”ë‰´\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                    res += "1. ê°€ì… [" + p + "ê°€ì…]\n";
                    res += "2. ë¡œê·¸ì¸ [" + p + "ë¡œê·¸ì¸]\n";
                    res += "3. ë„ì›€ë§";
                } else {
                    switch(category) {
                        case "ë‚´ì •ë³´":
                            res += "ğŸ‘¤ [ë©”ë‰´ > ë‚´ì •ë³´]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                            res += "â€¢ ë‹‰ë„¤ì„: " + userSession.info.name + "\n";
                            res += "â€¢ ë ˆë²¨: " + userSession.status.level + "\n";
                            res += "â€¢ ì „ì : " + userSession.status.win + "ìŠ¹ " + userSession.status.loss + "íŒ¨\n\n";
                            res += "ğŸ”™ ëŒì•„ê°€ê¸°: " + p + "ë©”ë‰´";
                            break;
                        case "ì¸ë²¤í† ë¦¬":
                            res += "ğŸ’ [ë©”ë‰´ > ì¸ë²¤í† ë¦¬]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                            res += "â€¢ (ë¯¸êµ¬í˜„) ë³´ìœ  ì•„ì´í…œ ëª©ë¡\n\n";
                            res += "ğŸ”™ ëŒì•„ê°€ê¸°: " + p + "ë©”ë‰´";
                            break;
                        case "ë„ì›€ë§":
                            res += "â“ [ë©”ë‰´ > ë„ì›€ë§]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                            res += "â€¢ " + p + "ë‚´ì •ë³´ : ë‚´ ìŠ¤íƒ¯ í™•ì¸\n";
                            res += "â€¢ " + p + "ë¡œê·¸ì•„ì›ƒ : ì ‘ì† ì¢…ë£Œ\n";
                            res += "â€¢ " + p + "ì •ë³´ : íŒ¨ì¹˜ í™•ì¸\n\n";
                            res += "ğŸ”™ ëŒì•„ê°€ê¸°: " + p + "ë©”ë‰´";
                            break;
                        default:
                            res += "ğŸ  ìœ ì € ë©”ì¸ ë©”ë‰´\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
                            res += "1. ë‚´ì •ë³´\n";
                            res += "2. ì¸ë²¤í† ë¦¬ (ë¯¸êµ¬í˜„)\n";
                            res += "3. ë¡œê·¸ì•„ì›ƒ\n";
                            // ë‚˜ì¤‘ì— ìƒì ì´ë‚˜ ëŒ€ì „ ë©”ë‰´ê°€ ì¶”ê°€ë˜ì–´ë„ ë„ì›€ë§ì´ í•­ìƒ ë§ˆì§€ë§‰
                            res += "4. ë„ì›€ë§"; 
                    }
                }
            }
            res += "\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”";
            return res;
        }
    };
}
